define(function(){"use strict";var e={getType:function(e){return Object.prototype.toString.call(e)},Eventer:{windowLoad:function(e){return"function"==typeof e&&("complete"===document.readyState?e():void window.addEventListener("load",e))}},Creater:{createInstance:function(r,t){return"[object Arguments]"===e.getType(t)&&(t=Array.prototype.slice.call(t)),t.splice(0,0,void 0),new(r.bind.apply(r,t))}},Loader:function(){return new function(){function r(e){for(var r in e)t(r,e[r])}function t(r,o){var i=e.getType(o);if("[object Array]"===i)for(var c in o)t(r,o[c]);else"[object Object]"===i&&o.hasOwnProperty("extensions")?(o.callback="function"==typeof o.callback?o.callback:void 0,o.errback="function"==typeof o.callback?o.errback:void 0,o.styles=n(o.styles),f(r,o)):console.error("Invalid Configuration given for "+r+"!",o)}function n(r){if(void 0==r)return[];var t=e.getType(r);if("[object String]"===t)return[{href:t}];if("[object Array]"===t){var n=[];for(var f in r){var c=o(r[f]);void 0!==(c=i(c))&&n.push(c)}return n}}function o(e){if("string"==typeof e||void 0!==e.href){if("string"==typeof e)return o({href:e});if("string"!=typeof e.href);else{var r=e.href.indexOf(".css");if(r===e.href.length-4)return e;if(r==-1)return e.href+=".css",e}}}function i(e){if("object"==typeof e&&void 0!==e.href)return e.rel=e.rel?e.rel:"stylesheet",e.media=e.media?e.media:"all",e.type=e.type?e.type:"text/css",e}function f(e,r){y.hasOwnProperty(e)||(y[e]=[]),y[e].push(r)}function c(r){"[object Object]"!==e.getType(r)&&(r=requireBase);for(var t in y)a(r,t,y[t])}function a(e,r,t){var n=!1;for(var o in t)if(!(n=u(e,r,t[o],n)))break}function u(e,r,t,n){return!(!n&&!l(r)||(e(t.extensions,t.callback,t.errback),s(t.styles),0))}function s(e){e.length>0&&void 0===g&&(g=document.querySelector("head"));for(var r in e){var t=e[r];if(b.indexOf(t.src)===-1){var n=document.createElement("link");for(var o in t){var i=t[o];n.setAttribute(o,i)}g.append(n),b.push(t.src)}}}function l(e){return v(e)}function v(e){var r,t=e.split("||");for(var n in t)if(r=d(t[n]))break;return r}function d(e){var r,t=e.split("&&");for(var n in t)if(!(r=p(t[n])))break;return r}function p(e){var r=e.indexOf("!")>-1;r&&(e=e.split("!").pop());var t=!document.querySelector(e);return r&&t?t:!t}var y={},b=[],g=void 0,h=function(){};return h.prototype={getConfig:function(){return y},addConfig:function(e){return r(e),this},load:function(r){e.Eventer.windowLoad(function(){c(r)})}},new h}}};return{getLoader:function(){return e.Loader()},getEventer:function(){return e.Eventer},getCreater:function(){return e.Creater}}});