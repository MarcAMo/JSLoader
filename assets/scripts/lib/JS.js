define(function(){"use strict";var e={getType:function(e){return Object.prototype.toString.call(e)},Eventer:{windowLoad:function(e){return"function"==typeof e&&("complete"===document.readyState?e():void window.addEventListener("load",e))}},Creater:{createInstance:function(r,t){return"[object Arguments]"===e.getType(t)&&(t=Array.prototype.slice.call(t)),t.splice(0,0,void 0),new(r.bind.apply(r,t))}},Loader:function(){return new function(){function r(e){for(var r in e)t(r,e[r])}function t(r,o){var i=e.getType(o);if("[object Array]"===i)for(var a in o)t(r,o[a]);else if("[object Object]"===i&&o.hasOwnProperty("extensions")){var c={callback:void 0,errback:void 0};for(var u in c)o[u]="function"==typeof o[u]?o[u]:c[u];o.styles=n(o.styles),f(r,o)}else console.error("Invalid Configuration given for "+r+"!",o)}function n(r){var t=[];switch(e.getType(r)){case"[object String]":t=[{href:type}];break;case"[object Array]":var n=[];for(var f in r){var a=o(r[f]);void 0!==(a=i(a))&&n.push(a)}t=n}return t}function o(e){if("string"==typeof e||void 0!==e.href){if("string"==typeof e)return o({href:e});if("string"!=typeof e.href);else{var r=e.href.indexOf(".css");if(r===e.href.length-4)return e;if(r==-1)return e.href+=".css",e}}}function i(e){if("object"==typeof e&&void 0!==e.href){var r={rel:"stylesheet",media:"all",type:"text/css"};for(var t in r)e[t]=e[t]?e[t]:r[t];return e}}function f(e,r){h.hasOwnProperty(e)||(h[e]=[]),h[e].push(r)}function a(r){"[object Object]"!==e.getType(r)&&(r=requireBase);for(var t in h)c(r,t,h[t])}function c(e,r,t){var n=!1;for(var o in t)if(!(n=s(e,r,t[o],n)))break}function u(){if(w){w=!1;for(var e=0;e<document.styleSheets.length;e++)g.push(document.styleSheets[e].ownerNode.getAttribute("href"))}}function s(e,r,t,n){return!(!n&&!d(r)||(e(t.extensions,t.callback,t.errback),v(t.styles),0))}function v(e){e.length>0&&void 0===b&&(b=document.querySelector("head"));for(var r in e){var t=e[r];if(g.indexOf(t.href)===-1){var n=document.createElement("link");for(var o in t){var i=t[o];n.setAttribute(o,i)}b.append(n),g.push(t.href)}}}function d(e){return l(e)}function l(e){var r,t=e.split("||");for(var n in t)if(r=p(t[n]))break;return r}function p(e){var r,t=e.split("&&");for(var n in t)if(!(r=y(t[n])))break;return r}function y(e){var r=e.indexOf("!")>-1;r&&(e=e.split("!").pop());var t=!document.querySelector(e);return r&&t?t:!t}var h={},g=[],b=void 0,w=!0,j=function(){};return j.prototype={getConfig:function(){return h},addConfig:function(e){return r(e),this},load:function(r){e.Eventer.windowLoad(function(){u(),a(r)})}},new j}}};return{getLoader:function(){return e.Loader()},getEventer:function(){return e.Eventer},getCreater:function(){return e.Creater}}});